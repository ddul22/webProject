<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>희망도서신청</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="icomoon/icomoon.css">
  <link rel="stylesheet" type="text/css" href="style.css">
  <style>
    #container {
      background-color: white;
    }
    form {
      text-align: center;
    }
    table {
      margin: auto;
      margin-left: auto;
      margin-right: auto;
      text-align: center;
      border: 1px solid black;
    }
    th{
      text-align: center;
      border: 1px solid black;
    }
    td{
      text-align: center;
      border: 1px solid black;
    }
    
    .footer-bottom {
      height: 300px;
    }

  </style>
</head>

<body>
  <div id="container">
    <form name="addMember" action="">
      <legend>희망도서신청</legend>
      도서명: <input type="text" id="bookName"><br>
      저자: <input type="text" id="writer"><br>
      출판사: <input type="text" id="publisher"><br>
      가격: <input type="text" id="price"><br>
      <!-- <input type="submit" value="신청"> -->
      <button id="applyBtn">신청</button>
    </form>
    <br>
    <table border="2">
      <thead>
        <tr>
          <th>도서명</th>
          <th>저자</th>
          <th>출판사</th>
          <th>가격</th>
        </tr>
      </thead>
      <tbody id="list">
      </tbody>
    </table>
  </div>

</body>
<script src="js/init.js"></script>
<script>
  let addbook = JSON.parse(localStorage.getItem('addBookData'));
  let list = document.querySelector('#list');
  addbook.forEach(function (item, idx) {
    list.innerHTML += `<tr>
                       <td>${item.addName}</td>
                       <td>${item.writer}</td>
                       <td>${item.publisher}</td>
                       <td>${item.price}</td>
                       </tr>`
  })
  console.log(addbook);
  document.getElementById('applyBtn').addEventListener('click', function (e) {
    e.preventDefault();
    let bookName = document.querySelector('#bookName').value;
    let writer = document.querySelector('#writer').value;
    let publisher = document.querySelector('#publisher').value;
    let price = document.querySelector('#price').value;
    let books = {
      addName: bookName,
      writer: writer,
      publisher: publisher,
      price: price
    }
    addbook.push(books);
    alert('신청이 완료되었습니다');
    localStorage.setItem('addBookData', JSON.stringify(addbook));
    document.querySelector('#list').innerHTML += `<tr>
                                                  <td>${books.addName}</td>
                                                  <td>${books.writer}</td>
                                                  <td>${books.publisher}</td>
                                                  <td>${books.price}</td>
                                                  </tr>`
  })
</script>


</html>